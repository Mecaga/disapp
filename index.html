<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MecagaChat Pro | Online</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="authScreen" class="overlay">
        <div class="auth-card">
            <h1 id="authTitle">GiriÅŸ Yap</h1>
            <p style="color: #b9bbbe; font-size: 14px; margin-bottom: 20px;">MecagaChat dÃ¼nyasÄ±na hoÅŸ geldin!</p>
            
            <div id="registerFields" style="display:none;">
                <input type="text" id="authUsername" placeholder="KullanÄ±cÄ± AdÄ±">
            </div>
            
            <input type="email" id="authEmail" placeholder="E-posta">
            <input type="password" id="authPassword" placeholder="Åifre">
            
            <button id="authBtn">Devam Et</button>
            <p id="toggleAuth">HesabÄ±n yok mu? KayÄ±t Ol</p>
        </div>
    </div>

    <div id="mainApp" style="display:none;">
        
        <nav class="server-sidebar">
            <div class="nav-icon active" id="globalBtn" title="Global Sohbet">ğŸŒ</div>
            <div class="nav-icon" id="friendsBtn" title="ArkadaÅŸlar">ğŸ‘¥</div>
            <div class="separator"></div>
            <div class="nav-icon add-btn" id="openChanModal" onclick="window.addNewChannelPrompt()">+</div>
        </nav>

        <aside class="channels-sidebar">
            <header class="sidebar-header">
                <span>MecagaChat</span>
                <span class="online-count">â— Online</span>
            </header>
            
            <div id="channelList" class="scroller">
                <div class="channel-category">METÄ°N KANALLARI</div>
                <div class="channel-item active"># genel</div>
            </div>

            <footer class="user-footer">
                <div class="avatar" id="myAvatar">M</div>
                <div class="user-info">
                    <span id="displayUserName">YÃ¼kleniyor...</span>
                    <small>#0001</small>
                </div>
                <div class="user-actions">
                    <button class="icon-btn" id="openProfileBtn">âš™ï¸</button>
                </div>
            </footer>
        </aside>

        <main class="chat-main">
            <header class="chat-header">
                <span class="hashtag">#</span>
                <h3 id="activeChannelTitle">global</h3>
            </header>

            <div id="messagesWrapper" class="scroller">
                </div>

            <div class="input-area">
                <div class="input-wrapper">
                    <button class="plus-btn">+</button>
                    <input type="text" id="messageInput" placeholder="Mesaj gÃ¶nder...">
                    <button id="sendBtn">â¤</button>
                </div>
            </div>
        </main>
    </div>

    <div id="profileModal" class="overlay" style="display:none; z-index: 10001;">
        <div class="auth-card" style="width: 400px;">
            <h3>Profil AyarlarÄ±</h3>
            <div style="margin: 20px 0;">
                <label style="font-size: 12px; color: #b9bbbe;">KULLANICI ADINI DEÄÄ°ÅTÄ°R</label>
                <input type="text" id="newNameInput" placeholder="Yeni isminiz...">
            </div>
            <button id="saveProfileBtn" style="background: #248046;">DeÄŸiÅŸiklikleri Kaydet</button>
            <button id="logoutBtn" style="background: #da373c; margin-top: 10px;">Ã‡Ä±kÄ±ÅŸ Yap</button>
            <button onclick="document.getElementById('profileModal').style.display='none'" style="background:transparent; margin-top:10px;">VazgeÃ§</button>
        </div>
    </div>

    <script type="module" src="app.js"></script>

    <script>
        // Basit UI geÃ§iÅŸleri iÃ§in kÃ¼Ã§Ã¼k yardÄ±mcÄ±lar
        document.getElementById('toggleAuth')?.addEventListener('click', () => {
            const rf = document.getElementById('registerFields');
            const title = document.getElementById('authTitle');
            const btn = document.getElementById('authBtn');
            const toggle = document.getElementById('toggleAuth');

            if (rf.style.display === 'none') {
                rf.style.display = 'block';
                title.innerText = 'KayÄ±t Ol';
                btn.innerText = 'KayÄ±t Ol';
                toggle.innerText = 'Zaten hesabÄ±n var mÄ±? GiriÅŸ Yap';
            } else {
                rf.style.display = 'none';
                title.innerText = 'GiriÅŸ Yap';
                btn.innerText = 'GiriÅŸ Yap';
                toggle.innerText = 'HesabÄ±n yok mu? KayÄ±t Ol';
            }
        });

        document.getElementById('openProfileBtn')?.addEventListener('click', () => {
            document.getElementById('profileModal').style.display = 'flex';
        });
    </script>
</body>
</html>
